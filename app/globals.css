@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@layer base {
  /* 색상 변수 정의 */
  :root {
    --background: #ffffff; /* 기본 배경 색상 */
    --title: #111111; /* 제목 색상 */
    --text: #444444; /* 본문 텍스트 색상 */
    --text-sub: #888888; /* 날짜, 푸터 등 연회색 */

    --toast-bg-start: rgba(255, 255, 255, 0.8);
    --toast-bg-end: rgba(255, 255, 255, 0.5);

    --toast-border: rgba(255, 255, 255, 0.6);
    --toast-text: #111111;
    --toast-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);

    --grass-l0: #eff2f5;
    --grass-l1: #d8b4fe;
    --grass-l2: #c084fc;
    --grass-l3: #a855f7;
    --grass-l4: #7e22ce;
  }

  :root.dark {
    --background: #121212;
    --title: #f1f1f1;
    --text: #d0d0d0;
    --text-sub: #888888;

    --toast-bg-start: rgba(40, 40, 40, 0.7);
    --toast-bg-end: rgba(40, 40, 40, 0.4);

    --toast-border: rgba(255, 255, 255, 0.15);
    --toast-text: #ffffff;
    --toast-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);

    --grass-l0: #252525;
    --grass-l1: #4a0f77;
    --grass-l2: #581c87;
    --grass-l3: #7e22ce;
    --grass-l4: #d8b4fe;
  }

  html {
    /* 스크롤바 자리 미리 확보 */
    scrollbar-gutter: stable;
  }

  body {
    /* 기본 배경 및 텍스트 색상 설정 */
    background-color: var(--background);
    color: var(--text);

    /* 폰트 설정 */
    font-family: var(--font-pretendard), -apple-system, BlinkMacSystemFont,
      system-ui, Roboto, sans-serif;
  }
  /* 제목 태그는 제목 색상 쓰도록 설정 */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--title);
  }

  /* 커스텀 스크롤바 스타일 */
  ::-webkit-scrollbar {
    width: 15px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full border-[3px] border-solid border-transparent bg-clip-content;
  }
}

@layer components {
  /* 날짜, 푸터 */
  .text-sub {
    color: var(--text-sub);
  }
}

@layer utilities {
  .font-serif {
    font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  }
  .font-sans {
    font-family: var(--font-pretendard), -apple-system, BlinkMacSystemFont,
      system-ui, Roboto, sans-serif !important;
  }
}

/* 토스트 메시지 스타일 */
[data-sonner-toast] {
  background: rgba(255, 255, 255, 0.5) !important;
  color: #000000 !important;

  -webkit-backdrop-filter: blur(5px) saturate(180%) !important;
  backdrop-filter: blur(5px) saturate(180%) !important;

  border: 1px solid rgba(255, 255, 255, 0.6) !important;

  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08),
    inset 0 0 0 1px rgba(255, 255, 255, 0.5) !important;

  border-radius: 24px !important;
  font-family: var(--font-pretendard), sans-serif !important;
  font-size: 0.95rem !important;
  font-weight: 500 !important;
}

/* 토스트 메시지 다크모드 스타일 */

.dark [data-sonner-toast] {
  background: rgba(20, 20, 20, 0.8) !important;
  color: #ffffff !important;

  -webkit-backdrop-filter: blur(15px) saturate(180%) !important;
  backdrop-filter: blur(15px) saturate(180%) !important;

  border: 1px solid color-mix(in srgb, var(--neon-color), black 60%) !important;

  box-shadow: 0 0 15px color-mix(in srgb, var(--neon-color), black 60%),
    inset 0 0 5px color-mix(in srgb, var(--neon-color), black 60%),
    0 8px 32px rgba(0, 0, 0, 0.5) !important;

  font-family: var(--font-pretendard), sans-serif !important;
}

.dark [data-sonner-toast] [data-description] {
  color: #c9c9c9 !important;
}

/* 가변 폰트 전용 굵기 웨이브 */
@keyframes variableWave {
  0%,
  100% {
    font-weight: 100; /* 아주 얇게 */
  }
  50% {
    font-weight: 900; /* 아주 두껍게 */
  }
}

/* 마우스 올리면 움직임 */
.variable-font-char {
  animation: variableWave 1.5s infinite ease-in-out;
  animation-play-state: paused;
}

/* 부모(.group)에 마우스 올리면 자식 애니메이션 시작 */
.group:hover .variable-font-char {
  animation-play-state: running;
}

/* 단어 카드 선택 애니메이션 */
@keyframes shake-soft {
  0% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(0.5deg);
  }
  50% {
    transform: rotate(0deg);
  }
  75% {
    transform: rotate(-0.5deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

.animate-shake-soft-effect {
  animation: shake-soft 0.3s infinite linear;
}

/* 플로팅 바 애니메이션 */
@keyframes slide-up {
  from {
    transform: translateY(100%) translateX(0%);
    opacity: 0;
  }
  to {
    transform: translateY(0) translateX(0%);
    opacity: 1;
  }
}

@keyframes slide-down {
  from {
    transform: translateY(0) translateX(0%);
    opacity: 1;
  }
  to {
    transform: translateY(150%) translateX(0%);
    opacity: 0;
  }
}

.animate-slide-up {
  animation: slide-up 0.4s ease-in-out forwards;
}

.animate-slide-down {
  animation: slide-down 0.4s ease-in-out forwards;
}
